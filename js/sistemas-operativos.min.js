document.addEventListener("DOMContentLoaded",()=>{AOS.init({duration:800,offset:100,once:!0,mirror:!1,anchorPlacement:"top-bottom"});const addCodeCopyButtons=()=>{const codeBlocks=document.querySelectorAll("pre code");codeBlocks.forEach((codeBlock,index)=>{const copyButton=document.createElement("button");copyButton.className="copy-button",copyButton.innerHTML='<i class="fas fa-copy"></i>',copyButton.setAttribute("aria-label","Copiar cÃ³digo"),codeBlock.parentNode.style.position="relative",codeBlock.parentNode.appendChild(copyButton),copyButton.addEventListener("click",async()=>{try{await navigator.clipboard.writeText(codeBlock.textContent),copyButton.innerHTML='<i class="fas fa-check"></i>',setTimeout(()=>{copyButton.innerHTML='<i class="fas fa-copy"></i>'},2e3)}catch(err){console.error("Error al copiar:",err),copyButton.innerHTML='<i class="fas fa-times"></i>'}})})},highlightCurrentSection=()=>{const sections=document.querySelectorAll(".topic-subsection"),navHeight=document.querySelector("#page-header").offsetHeight;window.addEventListener("scroll",()=>{let current="";sections.forEach(section=>{const sectionTop=section.offsetTop-navHeight-100,sectionHeight=section.offsetHeight;pageYOffset>=sectionTop&&pageYOffset<sectionTop+sectionHeight?section.classList.add("active-section"):section.classList.remove("active-section")})})},initializeCollapsibleSections=()=>{const subsectionTitles=document.querySelectorAll(".subsection-title");subsectionTitles.forEach(title=>{title.addEventListener("click",()=>{const content=title.nextElementSibling,isExpanded=content.style.maxHeight;title.classList.toggle("expanded"),content.style.maxHeight=isExpanded?null:content.scrollHeight+"px"})})};addCodeCopyButtons(),highlightCurrentSection(),initializeCollapsibleSections()});const style=document.createElement("style");function initScrollAnimations(){AOS.init({duration:800,easing:"ease-out",once:!0,offset:100,disable:window.innerWidth<768})}function initSmoothScroll(){document.querySelectorAll('a[href^="#"]').forEach(anchor=>{anchor.addEventListener("click",(function(e){e.preventDefault();const target=document.querySelector(this.getAttribute("href"));target&&target.scrollIntoView({behavior:"smooth",block:"start"})}))})}function initCodeHighlight(){document.querySelectorAll("pre code").forEach(block=>{block.classList.add("language-"+(block.className||"plaintext"))})}function handleScroll(){const scrollProgress=document.getElementById("scroll-progress"),backToTop=document.getElementById("back-to-top");if(!scrollProgress||!backToTop)return;const winScroll=document.body.scrollTop||document.documentElement.scrollTop,height=document.documentElement.scrollHeight-document.documentElement.clientHeight,scrolled=winScroll/height*100;scrollProgress.style.width=scrolled+"%",winScroll>300?backToTop.classList.add("visible"):backToTop.classList.remove("visible")}style.textContent="\n  .copy-button {\n    position: absolute;\n    top: 0.5rem;\n    right: 0.5rem;\n    padding: 0.5rem;\n    background: rgba(255, 255, 255, 0.1);\n    border: none;\n    border-radius: 0.25rem;\n    color: #fff;\n    cursor: pointer;\n    transition: all 0.3s ease;\n  }\n\n  .copy-button:hover {\n    background: rgba(255, 255, 255, 0.2);\n  }\n\n  .active-section {\n    border-left-color: var(--primary-color);\n    background: rgba(59, 130, 246, 0.05);\n  }\n\n  .subsection-title {\n    cursor: pointer;\n  }\n\n  .subsection-title.expanded::before {\n    transform: rotate(90deg);\n  }\n",document.head.appendChild(style),document.addEventListener("DOMContentLoaded",(function(){initScrollAnimations(),initSmoothScroll(),initCodeHighlight()}));let ticking=!1;window.addEventListener("scroll",(function(){ticking||(window.requestAnimationFrame((function(){handleScroll(),ticking=!1})),ticking=!0)}),{passive:!0});const backToTop=document.getElementById("back-to-top");function handleImages(){document.querySelectorAll(".course-image").forEach(img=>{img.addEventListener("load",(function(){this.classList.add("loaded")}))})}backToTop&&backToTop.addEventListener("click",(function(e){e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})})),document.addEventListener("DOMContentLoaded",handleImages);